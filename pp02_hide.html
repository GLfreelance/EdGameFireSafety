<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	
    <head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>pp02_hide</title>
      	<link href="stockImageGallery.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div id="bodywrapper">
            <div class="vMidway"><!--start of vertical centre container div-->
                <div class="spaceB2e txt_alignCenter"><!-- Start of fixed body header section -->
                    <h1 ondblclick="window.open('pp03_evac.html');">Fire Safety</h1> 
                </div> <!-- End of fixed body header section -->
                
                <div id="div_alarm" class="spaceB2e txt_alignCenter"><!-- Alarm; left div-->
              		<a href="start.html"><button class="red_bkGnd cntrWidth spaceB1e" type="button" name="btn_Return" >Return</button></a>
            	</div>
            
                <div class="spaceB2e txt_alignCenter">
                    <div id="div_response">
                        <p id="txt_response"><!--Javascript will output the response text here--></p>    
                    </div>
                </div>
                
            </div><!--end of vertical centre container div-->
        </div><!-- end tag of bodywrapper -->
        
		<script type="text/javascript">
			//Open XML File (HTTP Request)
			var xhttp = new XMLHttpRequest();
		
			// Will run the xhttp.open instruction (just like calling a function) when the system is ready. If the system is not ready, the xml response document is not loaded and the process_xml function not called.
       		xhttp.onreadystatechange = function() {
				if (xhttp.readyState == 4 && xhttp.status == 200) {
					process_xml(xhttp);
           		}
        	}
		
			// The above instruction will pass this next output to the process_xml function and call the function when conditions are met. 
        	xhttp.open("GET", "a02_responses.xml", true);
        	xhttp.send();
			//End HTTP Request
		
			function process_xml(xml) // The value of xml is passed by the instruction calling this function (process_xml(xhttp)â€”line 36. (Basically xml is representing the xml response document.
			{
				resp=Array()

				//Load the XML File
				var xmlDoc = xml.responseXML;
			
				//Create an Array of Response Objects
				x = xmlDoc.getElementsByTagName("responseHide");
			
				//Loop through Response Objects and assign nodevalue to the resp array
            	for (i = 0; i < x.length ;i++) {
              		//document.write(x[i].childNodes[0].nodeValue); 
			   		resp.push(x[i].childNodes[0].nodeValue);  
            	}
			
				var n=resp.length;
				var randNo=Math.floor(Math.random()*n);
			
				//Copy the content of the random array value to the HTML Div
				document.getElementById("txt_response").innerHTML = resp[randNo];
			}
		</script>
        
	</body>
</html>